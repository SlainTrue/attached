jQuery(function(b){var i=b("meta[name=csrf-token]").attr("content"),j=b("meta[name=csrf-param]").attr("content");b.fn.extend({triggerAndReturn:function(a,c){var d=new b.Event(a);this.trigger(d,c);return d.result!==false},callRemote:function(){var a=this,c=a.attr("method")||a.attr("data-method")||"GET",d=a.attr("action")||a.attr("href"),k=a.attr("data-type")||b.ajaxSettings&&b.ajaxSettings.dataType;if(d===undefined)throw"No URL specified for remote call (action or href must be present).";else{var l=
b(this),m=a.is("form")?a.serializeArray():[];b.ajax({url:d,data:m,dataType:k,type:c.toUpperCase(),beforeSend:function(e){e.setRequestHeader("Accept","text/javascript");if(l.triggerHandler("ajax:beforeSend")===false)return false},success:function(e,g,h){a.trigger("ajax:success",[e,g,h])},complete:function(e){a.trigger("ajax:complete",e)},error:function(e,g,h){a.trigger("ajax:error",[e,g,h])}})}}});b("body").delegate("a[data-confirm], button[data-confirm], input[data-confirm]","click.rails",function(){var a=
b(this);if(a.triggerAndReturn("confirm"))if(!confirm(a.attr("data-confirm")))return false});b("form[data-remote]").live("submit.rails",function(a){b(this).callRemote();a.preventDefault()});b("a[data-remote],input[data-remote]").live("click.rails",function(a){b(this).callRemote();a.preventDefault()});b("a[data-method]:not([data-remote])").live("click.rails",function(a){var c=b(this),d=c.attr("href");c=c.attr("data-method");d=b('<form method="post" action="'+d+'"></form>');c='<input name="_method" value="'+
c+'" type="hidden" />';if(j!==undefined&&i!==undefined)c+='<input name="'+j+'" value="'+i+'" type="hidden" />';d.hide().append(c).appendTo("body");a.preventDefault();d.submit()});var f=function(){b(this).find("input[data-disable-with]").each(function(){var a=b(this);a.data("enable-with",a.val()).attr("value",a.attr("data-disable-with")).attr("disabled","disabled")})};b("form[data-remote]:has(input[data-disable-with])").live("ajax:before.rails",f);b("form:not([data-remote]):has(input[data-disable-with])").live("submit.rails",
f);b("form[data-remote]:has(input[data-disable-with])").live("ajax:complete.rails",function(){b(this).find("input[data-disable-with]").each(function(){var a=b(this);a.removeAttr("disabled").val(a.data("enable-with"))})});f=b().jquery;f==="1.4.3"||f==="1.4.4"||alert("This rails.js does not support the jQuery version you are using. Please read documentation.")});